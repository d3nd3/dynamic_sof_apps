---
alwaysApply: true
---
### Purpose
High-level authoring rules for RMF menus. Applies to all `.rmf` files.

### Structure
- **Control elements**: `stm`, `frame`, `key`, `ikey`, `ckey`, `comment`, `includecvar`, `include`, `cinclude`, `cninclude`, `exinclude`, `einclude`, `alias`, `set`, `fset`, `cbuf`, `config`, `exitcfg`, `timeout`.
- **Layout elements**: `tint`, `font`, `br`, `hbr`, `center`, `normal`, `left`, `right`, `cursor`, `defaults`, `translate`, `emote`, `semote`, `demote`, `autoscroll`, `dmnames`, `tab`, `strings`, `bghoul`, `backdrop`.
- **Area elements**: `blank`, `hr`, `vbar`, `text`, `ctext`, `image`, `list`, `slider`, `ticker`, `input`, `setkey`, `popup`, `selection`, `ghoul`, `gpm`, `filebox`, `filereq`, `loadbox`, `serverbox`, `serverdetail`, `players`, `listfile`, `users`, `chat`, `rooms`.
- **Also seen in the wild (undocumented/extended)**: `hbar`, `botlist`, `bot`, `onexit`.

### Common usage
- Start every file with `<stm>` and end with `</stm>`. Only one pair per file.
- Define one or more `frame` blocks to partition the screen; attach `page` files or render content directly.
- Use layout keywords to control flow (`br`, `hbr`, `center`, `left`, `right`, `normal`).
- Use area elements for content; prefer `text`, `list`, `image`, `slider`, `input`, `setkey`, `filebox` for common menus.
- Group content logically: background (`backdrop`, `bghoul`), layout, then interactive areas.

### Syntax notes
- Keywords use angle brackets: `<keyword [args] [keyword parameters ...]>`.
- Parameters in `<>` are required; `[]` are optional in the docs. In files, only angle brackets are used.

### Gotchas
- Only one `<stm>` block per file; anything outside is ignored.
- `include`/`cinclude`/`cninclude`/`exinclude`/`einclude` expect bare page names (extension auto-added, located in `menus/`).
- Many areas inherit defaults (`defaults`, `border`, fonts, tints). Override per-area only when needed.
- Some areas (e.g., `filebox`, `filereq`) are sensitive to extra keywords/ordering.

### Example
```text
<stm>
  <frame default 640 480 page main>
  <font type medium>
  <center>
  <text "PLAY" key mouse1 "menu play">
  <br>
  <text "OPTIONS" key mouse1 "menu options">
</stm>
```

